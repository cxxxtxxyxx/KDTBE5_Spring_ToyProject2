plugins {
    id 'java'
}

version = '0.0.1-SNAPSHOT'
sourceCompatibility = '11'

repositories {
    mavenCentral()
}

dependencies {
    compileOnly 'org.projectlombok:lombok:1.18.20'
    implementation 'com.h2database:h2:1.4.200'
    annotationProcessor 'org.projectlombok:lombok:1.18.20'
}

task runH2Database(type: JavaExec) {
    classpath = sourceSets.main.runtimeClasspath
    mainClass.set('org.h2.tools.Server')
    args = ['-web', '-webAllowOthers', '-tcp', '-tcpAllowOthers', '-ifNotExists']
}

task run(dependsOn: 'runH2Database')

test {
    useJUnitPlatform()
}